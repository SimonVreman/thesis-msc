datasource db {
  url = "postgresql://postgres:password@localhost:5432/thesis"
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output = "./generated/prisma"
}

model virtual_machine {
  id String @db.Char(64) @id
  subscription String @db.Char(64)
  deployment String @db.Char(88)
  created DateTime
  deleted DateTime
  max_cpu Float
  avg_cpu Float
  p95_max_cpu Float
  category String
  cores Int
  memory Int
  uuid String
}

model trace {
  @@id([virtual_machine, time])
  time DateTime
  virtual_machine String @db.Char(64) // No FK for performance
  min Float
  max Float
  avg Float
}
